"use strict";(self.webpackChunkTicket_booking=self.webpackChunkTicket_booking||[]).push([[477],{2477:(v,Z,a)=>{a.r(Z),a.d(Z,{TrainModule:()=>h});var d=a(6019),s=a(875),t=a(3556),c=a(4753),m=a(8260),l=a(4522);let p=(()=>{class n{constructor(e){this.http=e,this.table_name="trains.json"}addTrain(e){return this.http.post(m.N.apiUrl+this.table_name,e)}getTrain(e){return this.http.get(m.N.apiUrl+"trains/"+e+".json")}getTrains(){return this.http.get(m.N.apiUrl+this.table_name).pipe((0,c.U)(e=>{const i=[];for(const u in e)e.hasOwnProperty(u)&&i.push(Object.assign(Object.assign({},e[u]),{id:u}));return i}))}updateTrain(e,i){return this.http.put(m.N.apiUrl+"trains/"+e+".json",i)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(l.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=a(7537);let g=(()=>{class n{constructor(e,i,u){this.router=e,this.service=i,this.builder=u,this.trainForm=null}ngOnInit(){this.trainForm=this.builder.group({name:[""],number:[""],source:[""],destination:[""],depature_time:[""],price:[""],status:1})}onSubmit(){this.service.addTrain(this.trainForm.value).subscribe(e=>{alert("new train added"),this.router.navigate(["../admin/train"])},e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.F0),t.Y36(p),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-train"]],decls:29,vars:1,consts:[[3,"formGroup","ngSubmit"],["for",""],["type","text","formControlName","name",1,"form-group"],["type","text","formControlName","number",1,"form-group"],["type","text","formControlName","source",1,"form-group"],["type","text","formControlName","destination",1,"form-group"],["type","time","formControlName","depature_time",1,"form-group"],["type","number","formControlName","price",1,"form-group"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(2,"div"),t.TgZ(3,"label",1),t._uU(4,"Name"),t.qZA(),t._UZ(5,"input",2),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"label",1),t._uU(8,"Number"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",1),t._uU(12,"Source"),t.qZA(),t._UZ(13,"input",4),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"label",1),t._uU(16,"Destination"),t.qZA(),t._UZ(17,"input",5),t.qZA(),t.TgZ(18,"div"),t.TgZ(19,"label",1),t._uU(20,"Depature Time"),t.qZA(),t._UZ(21,"input",6),t.qZA(),t.TgZ(22,"div"),t.TgZ(23,"label",1),t._uU(24,"Price"),t.qZA(),t._UZ(25,"input",7),t.qZA(),t.TgZ(26,"div"),t.TgZ(27,"button",8),t._uU(28,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",i.trainForm))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wV],styles:[""]}),n})(),T=(()=>{class n{constructor(e,i,u,q){this.router=e,this.service=i,this.builder=u,this.activateRoute=q,this.tid=null,this.train=null,this.trainForm=null}ngOnInit(){this.trainForm=this.builder.group({name:[""],number:[""],source:[""],destination:[""],depature_time:[""],price:[""],status:[""]}),this.tid=this.activateRoute.snapshot.paramMap.get("id"),this.service.getTrain(this.tid).subscribe(e=>{this.trainForm.patchValue({name:e.name,number:e.number,source:e.source,destination:e.destination,depature_time:e.depature_time,price:e.price,status:e.status})},e=>console.log(e))}onSubmit(){this.service.updateTrain(this.tid,this.trainForm.value).subscribe(e=>{alert("train data updated!"),this.router.navigate(["../admin/train"])},e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.F0),t.Y36(p),t.Y36(r.qu),t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-train"]],decls:37,vars:1,consts:[[3,"formGroup","ngSubmit"],["for",""],["type","text","formControlName","name",1,"form-group"],["type","text","formControlName","number",1,"form-group"],["type","text","formControlName","source",1,"form-group"],["type","text","formControlName","destination",1,"form-group"],["type","time","formControlName","depature_time",1,"form-group"],["type","number","formControlName","price",1,"form-group"],["formControlName","status",1,"form-group"],["value","1"],["value","0"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(2,"div"),t.TgZ(3,"label",1),t._uU(4,"Name"),t.qZA(),t._UZ(5,"input",2),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"label",1),t._uU(8,"Number"),t.qZA(),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"label",1),t._uU(12,"Source"),t.qZA(),t._UZ(13,"input",4),t.qZA(),t.TgZ(14,"div"),t.TgZ(15,"label",1),t._uU(16,"Destination"),t.qZA(),t._UZ(17,"input",5),t.qZA(),t.TgZ(18,"div"),t.TgZ(19,"label",1),t._uU(20,"Depature Time"),t.qZA(),t._UZ(21,"input",6),t.qZA(),t.TgZ(22,"div"),t.TgZ(23,"label",1),t._uU(24,"Price"),t.qZA(),t._UZ(25,"input",7),t.qZA(),t.TgZ(26,"div"),t.TgZ(27,"label",1),t._uU(28,"Status"),t.qZA(),t.TgZ(29,"select",8),t.TgZ(30,"option",9),t._uU(31,"Active"),t.qZA(),t.TgZ(32,"option",10),t._uU(33,"Inactive"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div"),t.TgZ(35,"button",11),t._uU(36,"Update"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",i.trainForm))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wV,r.EJ,r.YN,r.Kr],styles:[""]}),n})();function A(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"button",3),t._uU(17,"Edit"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit,i=o.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.number),t.xp6(2),t.Oqu(e.source),t.xp6(2),t.Oqu(e.destination),t.xp6(2),t.hij("Rs.",e.price,"/-"),t.xp6(2),t.Oqu(1==e.status?"Active":"Inactive"),t.xp6(2),t.MGl("routerLink","edit-train/",e.id,"")}}const f=[{path:"",component:(()=>{class n{constructor(e){this.service=e,this.trains=[]}ngOnInit(){this.service.getTrains().subscribe(e=>{this.trains=e},e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-train"]],decls:25,vars:1,consts:[["routerLink","add-train",1,"btn","btn-primary"],[1,"table","table-responsive"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-secondary",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"button",0),t._uU(2,"Add Train"),t.qZA(),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"table",1),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th"),t._uU(8,"SL"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Number"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Source"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Destination"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Price"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Status"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"tbody"),t.YNc(24,A,18,8,"tr",2),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(24),t.Q6J("ngForOf",i.trains))},directives:[s.rH,d.sg],styles:[""]}),n})()},{path:"add-train",component:g},{path:"edit-train/:id",component:T}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.Bz.forChild(f)],s.Bz]}),n})(),h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,b,r.UX,r.u5,l.JF]]}),n})()}}]);